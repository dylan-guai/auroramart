{% extends "core/base.html" %}

{% block title %}AuroraMart - Personalized Shopping Experience{% endblock %}

{% block body %}
<!-- Hero Section -->
<div class="hero min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 relative overflow-hidden">
  <!-- Animated background elements -->
  <div class="absolute inset-0 overflow-hidden">
    <div class="absolute -top-40 -right-40 w-80 h-80 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse"></div>
    <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse" style="animation-delay: 2s;"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-indigo-200 rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-pulse" style="animation-delay: 4s;"></div>
  </div>
  
  <div class="hero-content text-center relative z-10">
    <div class="max-w-4xl">
      <!-- Logo Section - Centered and Above Title -->
      <div class="flex justify-center mb-8 animate-fade-in-up">
        <div class="relative">
          <img src="/media/AuroraMart Logo.png" alt="AuroraMart" class="h-32 w-32 drop-shadow-lg animate-bounce-slow">
          <div class="absolute inset-0 bg-blue-400 rounded-full opacity-20 animate-ping"></div>
        </div>
      </div>
      
      <!-- Title Section -->
      <div class="mb-8 animate-fade-in-up" style="animation-delay: 0.2s;">
        <h1 class="text-7xl font-bold text-gray-800 leading-tight">
          Welcome to <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-purple-600 animate-gradient-x">AuroraMart</span>
        </h1>
      </div>
      <p class="text-2xl text-gray-600 mb-10 leading-relaxed animate-fade-in-up" style="animation-delay: 0.3s;">
        Discover personalized shopping experiences powered by AI. 
        <br><span class="text-blue-600 font-semibold">Everyday quality without the luxury markup.</span>
      </p>
      
      {% if user.is_authenticated %}
        <div class="mb-8">
          <h2 class="text-2xl font-semibold text-gray-700 mb-4">
            Welcome back, {{ user.first_name|default:user.username }}!
          </h2>
          {% if predicted_category %}
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4">
              <p class="text-lg text-blue-800">
                <span class="font-semibold">ðŸŽ¯</span> 
                {% if predicted_category.success %}
                  We think you'll love our <strong>{{ predicted_category.predicted_category }}</strong> collection!
                {% else %}
                  We're learning your preferences! Check out our featured products below.
                {% endif %}
              </p>
            </div>
          {% endif %}
          <p class="text-lg text-gray-600">
            Your personalized recommendations are ready.
          </p>
        </div>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="{% url 'item:product_list' %}" class="btn btn-primary btn-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
            </svg>
            Start Shopping
          </a>
          <a href="{% url 'profiles:profile' %}" class="btn btn-outline btn-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg>
            My Profile
          </a>
        </div>
      {% else %}
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <a href="{% url 'core:register' %}" class="btn btn-primary btn-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z" />
            </svg>
            Create Account
          </a>
          <a href="{% url 'core:login' %}" class="btn btn-outline btn-lg">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1" />
            </svg>
            Sign In
          </a>
        </div>
      {% endif %}
    </div>
  </div>
</div>

<!-- Value Proposition -->
<div class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">
        Why Choose AuroraMart?
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        We're revolutionizing e-commerce in Southeast Asia with AI-powered personalization 
        that helps you discover exactly what you need in under 90 seconds.
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="text-center p-6">
        <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-2">AI-Powered Discovery</h3>
        <p class="text-gray-600">Find relevant products within 90 seconds using our advanced recommendation engine.</p>
      </div>
      
      <div class="text-center p-6">
        <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-2">Value-Conscious Quality</h3>
        <p class="text-gray-600">Premium products without the luxury markup. Quality you can trust at prices you'll love.</p>
      </div>
      
      <div class="text-center p-6">
        <div class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-purple-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold text-gray-800 mb-2">Sticky Experience</h3>
        <p class="text-gray-600">Designed to bring you back within 14-21 days with personalized content and offers.</p>
      </div>
    </div>
  </div>
</div>

<!-- Shop by Category -->
<div class="py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">Shop by Category</h2>
      <p class="text-xl text-gray-600">Curated collections for every need</p>
    </div>
    
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
      {% for category in categories %}
      <a href="{% url 'item:product_list' %}?category={{ category.id }}" 
         class="group bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2">
        <div class="p-6 text-center">
          <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300">
            <span class="text-2xl text-white font-bold">{{ category.name|first }}</span>
          </div>
          <h3 class="text-lg font-semibold text-gray-800 mb-2">{{ category.name }}</h3>
          <p class="text-sm text-gray-600">{{ category.description|truncatechars:60 }}</p>
        </div>
      </a>
      {% endfor %}
    </div>
  </div>
</div>

<!-- AI-Powered Personalized Products -->
{% if user.is_authenticated and personalized_products %}
<div class="py-16 bg-gradient-to-br from-blue-50 to-indigo-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">
        <span class="text-blue-600">ðŸ¤–</span> Just for You
      </h2>
      {% if predicted_category and predicted_category.success %}
        <p class="text-xl text-gray-600">
          ðŸŽ¯ We think you'll love our <strong>{{ predicted_category.predicted_category.name }}</strong> collection!
        </p>
      {% else %}
        <p class="text-xl text-gray-600">Personalized recommendations just for you</p>
      {% endif %}
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      {% for product in personalized_products %}
      <div class="card bg-white shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1">
        <figure class="relative">
          {% if product.images.exists %}
            <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" class="w-full h-48 object-cover">
          {% else %}
            <div class="w-full h-48 bg-gradient-to-br from-blue-100 to-indigo-200 flex items-center justify-center">
              <span class="text-4xl">ðŸ“¦</span>
            </div>
          {% endif %}
          <div class="absolute top-2 left-2 bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-semibold">
            AI PICK
          </div>
          {% if product.discount_price %}
            <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-sm font-semibold">
              SALE
            </div>
          {% endif %}
        </figure>
        
        <div class="card-body p-4">
          <h3 class="card-title text-lg">{{ product.name }}</h3>
          <p class="text-sm text-gray-600">{{ product.short_description|truncatechars:60 }}</p>
          
          <div class="flex items-center justify-between mt-4">
            <div class="flex items-center">
              <span class="text-2xl font-bold text-blue-600">${{ product.current_price }}</span>
              {% if product.discount_price %}
                <span class="text-sm text-gray-500 line-through ml-2">${{ product.price }}</span>
              {% endif %}
            </div>
            <div class="flex items-center">
              <span class="text-yellow-500">â˜…</span>
              <span class="text-sm ml-1">{{ product.average_rating|floatformat:1 }}</span>
            </div>
          </div>
          
          <div class="card-actions justify-end mt-4">
            <a href="{% url 'item:product_detail' product.id %}" class="btn btn-primary btn-sm min-h-8 px-2 text-xs">View Details</a>
            <form method="post" action="{% url 'item:add_to_cart' product.id %}" class="inline">
              {% csrf_token %}
              <button type="submit" class="btn btn-secondary btn-sm">Add to Cart</button>
            </form>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    
    <div class="text-center mt-8">
      <a href="{% url 'item:product_list' %}" class="btn btn-primary btn-lg">
        Explore More Recommendations
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </div>
</div>
{% endif %}

<!-- Featured Products -->
{% if featured_products %}
<div class="py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">Featured Products</h2>
      <p class="text-xl text-gray-600">Handpicked items just for you</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
      {% for product in featured_products %}
      <div class="card bg-white shadow-lg hover:shadow-xl transition-shadow duration-300">
        <figure class="relative">
          {% if product.images.exists %}
            <img src="{{ product.images.first.image.url }}" alt="{{ product.name }}" class="w-full h-48 object-cover">
          {% else %}
            <div class="w-full h-48 bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center">
              <span class="text-4xl">ðŸ“¦</span>
            </div>
          {% endif %}
          {% if product.discount_price %}
            <div class="absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded-full text-sm font-semibold">
              SALE
            </div>
          {% endif %}
        </figure>
        
        <div class="card-body p-4">
          <h3 class="card-title text-lg">{{ product.name }}</h3>
          <p class="text-sm text-gray-600">{{ product.short_description|truncatechars:60 }}</p>
          
          <div class="flex items-center justify-between mt-4">
            <div class="flex items-center">
              <span class="text-2xl font-bold text-blue-600">${{ product.current_price }}</span>
              {% if product.discount_price %}
                <span class="text-sm text-gray-500 line-through ml-2">${{ product.price }}</span>
              {% endif %}
            </div>
            <div class="flex items-center">
              <span class="text-yellow-500">â˜…</span>
              <span class="text-sm ml-1">{{ product.average_rating|floatformat:1 }}</span>
            </div>
          </div>
          
          <div class="card-actions justify-end mt-4">
            <a href="{% url 'item:product_detail' product.id %}" class="btn btn-primary btn-sm min-h-8 px-2 text-xs">View Details</a>
            {% if user.is_authenticated %}
              <form method="post" action="{% url 'item:add_to_cart' product.id %}" class="inline">
                {% csrf_token %}
                <button type="submit" class="btn btn-secondary btn-sm">Add to Cart</button>
              </form>
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    
    <div class="text-center mt-8">
      <a href="{% url 'item:product_list' %}" class="btn btn-primary btn-lg">
        View All Products
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
        </svg>
      </a>
    </div>
  </div>
</div>
{% endif %}

<!-- Trust Indicators -->
<div class="py-16 bg-gray-900 text-white">
  <div class="container mx-auto px-4">
    <div class="text-center mb-12">
      <h2 class="text-4xl font-bold mb-4">Trusted by Southeast Asia</h2>
      <p class="text-xl text-gray-300">Backed by The Merlion Group's retail expertise</p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-4 gap-8 text-center">
      <div>
        <div class="text-4xl font-bold text-blue-400 mb-2">500+</div>
        <div class="text-gray-300">Curated Products</div>
      </div>
      <div>
        <div class="text-4xl font-bold text-green-400 mb-2">50K+</div>
        <div class="text-gray-300">Happy Customers</div>
      </div>
      <div>
        <div class="text-4xl font-bold text-purple-400 mb-2">90s</div>
        <div class="text-gray-300">Discovery Time</div>
      </div>
      <div>
        <div class="text-4xl font-bold text-yellow-400 mb-2">AI</div>
        <div class="text-gray-300">Powered</div>
      </div>
    </div>
  </div>
</div>
{% endblock %}